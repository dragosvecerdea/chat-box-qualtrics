(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,t,n){e.exports=n(87)},56:function(e,t,n){},58:function(e,t,n){e.exports=n.p+"static/media/logo.06e73328.svg"},59:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(34),o=n.n(r),i=(n(56),n(5)),s=(n(58),n(59),n(7)),u=(n(61),n(8)),d=n(13),l=n.n(d);function m(e){var t=e.reid,n=e.nickname,r=void 0===n?"Ioana":n,o=Object(a.useState)([]),d=Object(i.a)(o,2),m=d[0],E=d[1],p=Object(a.useState)({}),g=Object(i.a)(p,2),f=(g[0],g[1]);Object(a.useEffect)(function(){if(t){l.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).SERVER_URL,"/api/chat/").concat(t)).then(function(e){return E(e.data)}),console.log("here");var e=new WebSocket("ws://chat-box-qualtrics.herokuapp.com");e.onopen=function(n){e.send(t)},e.onmessage=function(e){e.data;l.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).SERVER_URL,"/api/chat/").concat(t)).then(function(e){return E(e.data)})},f(e)}},[t]);return c.a.createElement("div",{style:{position:"relative",height:"500px"}},c.a.createElement(u.b,null,c.a.createElement(u.a,null,c.a.createElement(u.e,null,m.map(function(e,n){return c.a.createElement(u.c,{key:n,model:{message:e.message,sender:e.sender,direction:e.senderReid==t?"outgoing":null}},c.a.createElement(u.c.Header,{sender:e.sender}),e.senderReid===t?c.a.createElement(u.c.Header,{sender:e.sender}):null)})),c.a.createElement(u.d,{attachButton:!1,onSend:function(e){return function(e){var t=e.reid,n=e.message;return l.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).SERVER_URL,"/api/chat/").concat(t),{message:n},{headers:{"Content-Type":"application/json"}})}({message:e,reid:t}).then(E([].concat(Object(s.a)(m),[{message:e,sentTime:(new Date).getTime().toString(),sender:r,senderReid:t}]))).catch()},placeholder:"Type message here"}))))}var E=n(1);var p=function(){var e=Object(E.g)(),t=Object(a.useState)(),n=Object(i.a)(t,2),r=n[0],o=n[1],s=Object(a.useState)(),u=Object(i.a)(s,2),d=u[0],p=u[1];return Object(a.useEffect)(function(){o(new URLSearchParams(e.search.toString()).get("reid")),l.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).SERVER_URL,"/api/nickname/").concat(r)).then(function(e){return p(e.data)}).catch()},[]),c.a.createElement("div",{className:"App"},c.a.createElement(m,{reid:r,nickname:d}))},g=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,88)).then(function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)})},f=n(22);o.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(f.a,null,c.a.createElement(p,null)))),g()}},[[49,3,2]]]);
//# sourceMappingURL=main.7a3a8be9.chunk.js.map