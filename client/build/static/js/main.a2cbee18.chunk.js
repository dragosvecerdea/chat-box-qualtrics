(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,n){e.exports=n(92)},57:function(e,t,n){},59:function(e,t,n){e.exports=n.p+"static/media/logo.06e73328.svg"},60:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(34),r=n.n(o),i=(n(57),n(5)),s=(n(59),n(60),n(7)),u=(n(62),n(8)),E=n(10),d=n.n(E);function l(e){var t=e.reid,n=e.nickname,o=e.sex,r=void 0===o?"male":o,E=Object(c.useState)([]),l=Object(i.a)(E,2),m=l[0],p=l[1],g=Object(c.useState)(t),R=Object(i.a)(g,2),f=R[0],O=R[1],b=Object(c.useState)(null),_=Object(i.a)(b,2),h=_[0],j=_[1];Object(c.useEffect)(function(){if(t&&!h){O(t),d.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/chat/").concat(t)).then(function(e){return p(e.data)});var e=new WebSocket("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_WS_SERVER||"wss://chat-box-qualtrics.herokuapp.com"));e.onopen=function(n){e.send(t),d.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/chat/").concat(f))},e.onmessage=function(e){e.data;d.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/chat/").concat(f)).then(function(e){return p(e.data)})},e.onclose=function(){setTimeout(function(){return j(null)},5e3)},j(e)}},[t,h]);return a.a.createElement("div",{style:{position:"relative",height:"100px",minHeight:"300px"}},a.a.createElement(u.c,null,a.a.createElement(u.b,null,a.a.createElement(u.f,null,m.map(function(e,n){return a.a.createElement(u.d,{key:n,model:{message:e.message,sender:e.sender,direction:e.senderReid==t?"outgoing":null}},a.a.createElement(u.d.Header,{sender:e.sender}),e.senderReid!=t?a.a.createElement(u.a,{src:""+"/".concat(e.senderSex,".png"),size:"s"}):null)})),a.a.createElement(u.e,{autoFocus:!0,attachButton:!1,onSend:function(e){return function(e){var t=e.reid,n=e.message;return d.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/chat/").concat(t),{message:n},{headers:{"Content-Type":"application/json"}})}({message:e,reid:t}).then(p([].concat(Object(s.a)(m),[{message:e,sentTime:(new Date).getTime().toString(),sender:n,senderReid:t,senderSex:r}]))).catch()},placeholder:"Type message here"}))))}var m=n(49),p=n(1);m.config(),console.log("HERE",Object({NODE_ENV:"production",PUBLIC_URL:""}));var g=function(){var e=Object(p.g)(),t=Object(c.useState)(),n=Object(i.a)(t,2),o=n[0],r=n[1],s=Object(c.useState)(),u=Object(i.a)(s,2),E=u[0],m=u[1];return Object(c.useEffect)(function(){r(new URLSearchParams(e.search.toString()).get("reid")),o&&d.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/nickname/").concat(o)).then(function(e){return m(e.data)}).catch()},[]),a.a.createElement("div",{className:"App"},a.a.createElement(l,{reid:o,nickname:E}))},R=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,93)).then(function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)})},f=n(23);r.a.createRoot(document.getElementById("root")).render(a.a.createElement(f.a,null,a.a.createElement(g,null))),R()}},[[50,3,2]]]);
//# sourceMappingURL=main.a2cbee18.chunk.js.map