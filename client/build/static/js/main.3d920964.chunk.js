(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,n){e.exports=n(92)},57:function(e,t,n){},59:function(e,t,n){e.exports=n.p+"static/media/logo.06e73328.svg"},60:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(34),r=n.n(o),i=(n(57),n(5)),s=(n(59),n(60),n(7)),u=(n(62),n(8)),d=n(13),l=n.n(d);function E(e){var t=e.reid,n=e.nickname,o=void 0===n?"Ioana":n,r=Object(a.useState)([]),d=Object(i.a)(r,2),E=d[0],m=d[1],p=Object(a.useState)({}),g=Object(i.a)(p,2),f=(g[0],g[1]);Object(a.useEffect)(function(){if(t){l.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/chat/").concat(t)).then(function(e){return m(e.data)});var e=new WebSocket("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_WS_SERVER||"wss://chat-box-qualtrics.herokuapp.com"));e.onopen=function(n){e.send(t)},e.onmessage=function(e){e.data;l.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/chat/").concat(t)).then(function(e){return m(e.data)})},f(e)}},[t]);return c.a.createElement("div",{style:{position:"relative",height:"100px",minHeight:"400px"}},c.a.createElement(u.c,null,c.a.createElement(u.a,null,c.a.createElement(u.b,null,c.a.createElement(u.b.Content,{userName:"Experiment 1",info:"Topic ..."}),c.a.createElement(u.b.Actions,null)),c.a.createElement(u.f,null,E.map(function(e,n){return c.a.createElement(u.d,{key:n,model:{message:e.message,sender:e.sender,direction:e.senderReid==t?"outgoing":null}},c.a.createElement(u.d.Header,{sender:e.sender}),e.senderReid===t?c.a.createElement(u.d.Header,{sender:e.sender}):null)})),c.a.createElement(u.e,{attachButton:!1,onSend:function(e){return function(e){var t=e.reid,n=e.message;return l.a.post("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/chat/").concat(t),{message:n},{headers:{"Content-Type":"application/json"}})}({message:e,reid:t}).then(m([].concat(Object(s.a)(E),[{message:e,sentTime:(new Date).getTime().toString(),sender:o,senderReid:t}]))).catch()},placeholder:"Type message here"}))))}var m=n(49),p=n(1);m.config(),console.log("HERE",Object({NODE_ENV:"production",PUBLIC_URL:""}));var g=function(){var e=Object(p.g)(),t=Object(a.useState)(),n=Object(i.a)(t,2),o=n[0],r=n[1],s=Object(a.useState)(),u=Object(i.a)(s,2),d=u[0],m=u[1];return Object(a.useEffect)(function(){r(new URLSearchParams(e.search.toString()).get("reid")),o&&l.a.get("".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SERVER||"","/api/nickname/").concat(o)).then(function(e){return m(e.data)}).catch()},[]),c.a.createElement("div",{className:"App"},c.a.createElement(E,{reid:o,nickname:d}))},f=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,93)).then(function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)})},R=n(23);r.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(R.a,null,c.a.createElement(g,null)))),f()}},[[50,3,2]]]);
//# sourceMappingURL=main.3d920964.chunk.js.map